# 计算机网络面试题整理

### 1.网络通信中的时延包括那些， 分别是怎么引起的， 暂避最大的是什么？

* 它是评判当前网络状态的标准
* 发一个数据包或者报文从一个主机到另一个主机的过程叫做网络时延
  * 发送时延
    * 从主机发送到数据链路上的时间
  * 传播时延
  * 排队时延
    * 是由一个分组和报文来进行测试的
    * 一个数据来到路由器（也可能时别的设备）, 发现它的入对列满员， 这样只能排队进行等待， 但是到小是有先限制的， 查过一定范围的话只能发生丢包的
    * 之后也可能进行输出对列排队
    * 所以一个网络状态的它最大的延迟可能是排队时延，主要发生在路由器上， 丢包也是在这里
  * 处理时延

### 2.请你描述一下tcp/IP五层模型

* 他是一个OSI七层模型的简化

![图片](https://static.dingtalk.com/media/lALPDh0cMsjrmcfNAqLNBKQ_1188_674.png_620x10000q90g.jpg?auth_bizType=IM&auth_bizEntity=%7B%22cid%22%3A%22366609415%3A366609415%22%2C%22msgId%22%3A%224844913297639%22%7D&bizType=im&open_id=366609415)

* 由下而上来进行
  * 物理层
    * 物理层面上的控制比特流 的传输和差错控制
    * 中继器， 集线器， 网线等
    * IEEE802
    * 单位bit
  * 数据链路层
    * 截至访问和链路管理
    * 网桥。网卡， 交换机
    * PPP Ethernet
    * 单位 帧
  * 网络层
    * IP选址与路由选额
    * 路由器， 防火墙， 多层交换机（>= 3）
    * IP ICMP ARP
    * IP数据包， 吞吐， 或者分组
  * 传输层
    * 建立管理维护端到端的连接
    * 进程和端口
    * TCP UDP
    * 报文段sesgenment 
    * 用户数据报（UDP）
  * 应用层
    * 上层软件
    * DHCP DNS SMTP SSH TELENTE

2.优势

### 3.交换机和路由器有什么区别

![图片](https://static.dingtalk.com/media/lALPDiQ3MBK_wH7NAu7NBL4_1214_750.png_620x10000q90g.jpg?auth_bizType=IM&auth_bizEntity=%7B%22cid%22%3A%22366609415%3A366609415%22%2C%22msgId%22%3A%224845233235676%22%7D&bizType=im&open_id=366609415)

### 4, 域名系统协议（DNS）

1.用途

* 系统提供的底层服务， 将域名和IP地址相互映射，映射成风不是数据库， 能够更方便的访问互联网上的资源

2.底层协议

* UDP（53） TCP（53）
* 小于1024的一般使用明确说明的端口

3.组成

* 域名结构

  * 根域
  * 顶级域
  * 二级域
  * 子域
  * 主机

  | 根域   | 顶级域  | 二级域   | 子域   | 主机   |
  | ---- | ---- | ----- | ---- | ---- |
  |      | .com | baidu |      |      |

* DNS服务器的层级结构

  * 根DNS服务器（只有13个）
  * 顶级DNS服务器
  * 权威DNS服务器
  * 本地DNS服务器

3.工作流程

* 迭代方式
  * 查询域名IP地址-》本地DNS服务器（会拿到一个返回告诉我们去哪里查询）
* 递归方式
  * 查询域名IP地址-》区别的DNS去查询， 直到找到依次递归返回
* 实际上：递归+迭代
  * 本地DNS是递归， 其余都是迭代
  * 其余的由本地分别作为一了源来进行查找

### 5.文件传送协议（FTP）

1.用途

* 用改互联网上的文件传输， 他是一个典型的cs架构， 

2.组成

* cs架构
* 两条连接
  * 控制连接TCP(21){长连接}
    * 整个过程中都保持
  * 数据连接tcp(20){短连接}
    * 只有发送文件， 接受文件等才会保持

3.底层协议

* TCP
* 也有UDP, 
  * 这样他的可靠连接就需要上层自己来保证

4.工作流程

* 主动模式
  * server主动连接客户端
  * 是默认模式
  * 客户通过21端口连接到的时候， 通过同时发送的接受端口， 服务段就会主动连接20
* 被动模式
  * server被动连接
  * 客户通过21端口连接到的时候，服务器给服务端发送一个他自己的端口， 客户端接受服务端发送过来的端口进行连接

### 6.动态主机配置协议（DHCP）

1.用途

* 将MACd地址转化为IP地址
* 局域网中， 集中管理分派IP地址， 使所有的主机可以动态的获取IP地址， 还有网关， 演码等DNS等配置信息

2.组成

* CS架构

3.底层

* UDP（67， 68）
  * 67用DHCP服务器上， 接受主机客户端发的报文
  * 68用在客户端上， 接受DHCP服务器上发的报文

4.工作流程

* 客户端发送Discover报文
  * 广播到局域网中的所有主机， 
* 服务端发送offer报文
  * 当主机中的DHCP收到discover时会发送一个offer报文
  * 表示我可以给你进行分配一个IP地址
* 客户端选择发送Request报文
  * 收到offer后， 选择一个最优的发送一个request报文
* 服务器发送ACK报文
  * 收到request之后发生一个ACK确认
  * 过程中， 地址租期时间到了就在发送一个request报文， 更新
* 客户端发送relsase报文下线